<div class="aboutPage registerPage">
    <div class="mainSection">

        <h1 data-aos="fade-up">
            <a [routerLink]="['/home']">ShipWars</a>
        </h1>

        <div class="content">
            <div class="container">

                <div *ngIf="error && !success" class="alert alert-danger">
                    {{ actionResult }}
                </div>

                <div *ngIf="success" class="alert alert-success">
                    Registration has been successful. Now you can <a [routerLink]="['/login']">sign in</a>
                </div>

                <form *ngIf="!success" class="form-horizontal" [formGroup]="registerForm">

                    <div class="form-group">
                        <label for="email" class="cols-sm-2 control-label">Email</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <input type="email" formControlName="email" class="form-control" name="email" id="email"
                                       required
                                       placeholder="Your email address"/>
                                <p *ngIf="!registerForm.get('email').valid && registerForm.get('email').dirty"
                                   class="alert alert-danger">Field is required.</p>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="login" class="cols-sm-2 control-label">Login</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <input type="text" formControlName="login" class="form-control" name="login" id="login"
                                       required
                                       placeholder="In-game login"/>
                                <p *ngIf="!registerForm.get('login').valid && registerForm.get('login').dirty"
                                   class="alert alert-danger">Field is required.</p>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="password" class="cols-sm-2 control-label">Password</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <input type="password" formControlName="password" class="form-control" name="password"
                                       id="password" required
                                       placeholder="Your password"/>
                                <p *ngIf="!registerForm.get('password').valid && registerForm.get('password').dirty"
                                   class="alert alert-danger">Min 6 characters.</p>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="confirm" class="cols-sm-2 control-label">Repeat password</label>
                        <div class="cols-sm-10">
                            <div class="input-group">
                                <input type="password" formControlName="rPassword" class="form-control" name="rPassword"
                                       id="confirm" required
                                       placeholder="Repeat your password"/>
                                <p *ngIf="registerForm.get('password').value !== registerForm.get('rPassword').value && registerForm.get('rPassword').dirty"
                                   class="alert alert-danger">Passwords are not the same.</p>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <button (click)="addUser(registerForm.value)" [disabled]="registerForm.invalid">
                            <span class="btn-anm">
                                <span class="btn-main">
                                    Sign up
                                    <span class="line-1"></span>
                                    <span class="line-2"></span>
                                    <span class="line-3"></span>
                                    <span class="line-4"></span>
                                </span>
                            </span>
                        </button>
                    </div>
                </form>

            </div>
        </div>

    </div>
</div>